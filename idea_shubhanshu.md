https://www.mathworks.com/matlabcentral/answers/93196-how-do-i-convert-a-24-bit-depth-image-file-to-an-8-bit-depth-image-file
    this is the explaination of how to convert 24bit bmp to 8bit bmp

https://www.geeksforgeeks.org/c-program-to-write-an-image-in-pgm-format/

http://www.cplusplus.com/forum/general/33301/ 
This is C++ code but we can try to convert to C.
